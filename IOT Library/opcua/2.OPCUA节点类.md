# OPC UA 节点类的描述

## 基本节点类

基本节点类不能直接使用。它指定所有节点类中可用的属性。

以下属性可用于每个节点类。

| 属性          | 采用     | 数据类型      | 描述                                                         |
| ------------- | -------- | ------------- | ------------------------------------------------------------ |
| NodeId        | 强制性的 | NodeId        | 唯一标识 OPC UA 服务器中的节点，并用于寻址 OPC UA 服务中的节点 |
| NodeClass     | 强制性的 | NodeClass     | 标识节点的 NodeClass 的枚举，例如对象，变量或方法            |
| BrowseName    | 强制性的 | QualifiedName | 浏览 OPC UA 服务器时标识节点。它没有本地化                   |
| DisplayName   | 强制性的 | LocalizedText | 包含应该用于在用户界面中显示名称的节点的名称。因此，它是本地化的 |
| Description   | 可选的   | LocalizedText | 此可选属性包含节点的本地化文本描述                           |
| WriteMask     | 可选的   | UInt32        | 是可选的，并指定节点的哪些属性是可写的，即可以被 OPC UA 客户端修改 |
| UserWriteMask | 可选的   | UInt32        | 是可选的，并指定当前连接到服务器的用户可以修改节点的哪些属性 |

## 对象

对象节点类用于表示系统，系统组件，现实中的对象和软件对象。

以下属性特定于“对象”节点类：

| 属性                                                         | 采用     | 数据类型 | 描述                                                         |
| ------------------------------------------------------------ | -------- | -------- | ------------------------------------------------------------ |
| 包含[基本节点类的](https://documentation.unified-automation.com/uasdkhp/1.0.0/html/_l2_ua_node_classes.html#L3UaNodeClassBase)所有属性 |          |          |                                                              |
| EventNotifier                                                | 强制性的 | Byte     | 此属性表示一个位掩码，用于标识对象是否可用于预订事件以及事件的历史记录是否可访问和可更改 |

## 变量

变量节点类用于表示对象的内容。变量提供实际数据，因此属性(attributes)的数量更多。

以下属性特定于“变量”节点类：

| 属性                                                                                                                                   | 采用     | 数据类型       | 描述                                                                                                                                                                                                     |
| -------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 包含[基本节点类的](https://documentation.unified-automation.com/uasdkhp/1.0.0/html/_l2_ua_node_classes.html#L3UaNodeClassBase)所有属性 |          |                |                                                                                                                                                                                                          |
| Value                                                                                                                                  | 强制性的 | Base Data Type | 变量的实际值。值的数据类型由 DataType，ValueRank 和 ArrayDimensions 属性指定                                                                                                                             |
| DataType                                                                                                                               | 强制性的 | N              | 数据类型在地址空间中表示为节点。此属性包含此类节点的 NodeId，从而定义了 Value 属性的 DataType                                                                                                            |
| ValueRank                                                                                                                              | 强制性的 | Int32          | 标识该值是否为数组，如果为数组，则允许指定数组的空间(dimensions)                                                                                                                                         |
| ArrayDimensions                                                                                                                        | 可选的   | UInt32 []      | 此可选属性允许指定数组的大小，并且仅在值是数组时才可以使用。对于数组的每个空间(dimension)，相应的条目定义空间的长度                                                                                      |
| AccessLevel                                                                                                                            | 强制性的 | Byte           | 一个位掩码，指示“值属性”的当前值是否可读可写以及历史值是否可读可更改                                                                                                                                     |
| UserAccessLevel                                                                                                                        | 强制性的 | Byte           | 包含与 AccessLevel 相同的信息，但考虑了用户访问权限                                                                                                                                                      |
| MinimumSamplingInterval                                                                                                                | 可选的   | Double         | 该可选属性提供了 OPC UA 服务器可以多快检测到值属性更改的信息。对于不是由服务器直接管理的值（例如温度传感器的温度），服务器可能需要扫描设备以进行更改（轮询），因此无法以比此最小间隔更快的速度检测到更改 |
| Historizing                                                                                                                            | 强制性的 | Boolean        | 指示服务器当前是否在收集值的历史记录。AccessLevel 属性不提供该信息，它仅指定某些历史记录是否可用                                                                                                         |

## 方法

Method 节点类用于表示服务器地址空间中的 Method。

以下属性特定于“方法”节点类。

| 属性                                                                                                                                   | 采用     | 数据类型 | 描述                                 |
| -------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------- | ------------------------------------ |
| 包含[基本节点类的](https://documentation.unified-automation.com/uasdkhp/1.0.0/html/_l2_ua_node_classes.html#L3UaNodeClassBase)所有属性 |          |          |                                      |
| Executable                                                                                                                             | 强制性的 | Boolean  | 一个标志，指示当前是否可以调用该方法 |
| UserExecutable                                                                                                                         | 强制性的 | Boolean  | 与考虑用户访问权限的可执行属性相同   |

## 引用类型

ReferenceType 节点类用于表示服务器使用的引用类型。

以下属性特定于 ReferenceType 节点类：

| 属性                                                                                                                                   | 采用     | 数据类型      | 描述                                                                                                        |
| -------------------------------------------------------------------------------------------------------------------------------------- | -------- | ------------- | ----------------------------------------------------------------------------------------------------------- |
| 包含[基本节点类的](https://documentation.unified-automation.com/uasdkhp/1.0.0/html/_l2_ua_node_classes.html#L3UaNodeClassBase)所有属性 |          |               |                                                                                                             |
| IsAbstract                                                                                                                             | 强制性的 | Boolean       | 指定 ReferenceType 是可用于 Reference 还是仅用于 ReferenceType 层次结构中的组织目的                         |
| Symmetric                                                                                                                              | 强制性的 | Boolean       | 指示引用是否对称，即，正反方向的含义是否相同                                                                |
| InverseName                                                                                                                            | 可选的   | LocalizedText | 此可选属性指定反向引用的语义。它只能应用于非对称引用，并且如果这样的 ReferenceType 不是抽象的，则必须提供它 |

## 对象类型

ObjectType 节点类用于表示服务器地址空间中对象的类型节点。ObjectType 与面向对象语言中的类相似。

以下属性特定于 ObjectType 节点类。

| 属性                                                                                                                                   | 采用     | 数据类型 | 描述                                                               |
| -------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------- | ------------------------------------------------------------------ |
| 包含[基本节点类的](https://documentation.unified-automation.com/uasdkhp/1.0.0/html/_l2_ua_node_classes.html#L3UaNodeClassBase)所有属性 |          |          |                                                                    |
| IsAbstract                                                                                                                             | 强制性的 | 布尔型   | 此属性指示 ObjectType 是具体的还是抽象的，因此不能直接用作类型定义 |

## 变量类型

VariableType 节点类用于表示服务器地址空间中变量的类型节点。VariableType 通常用于定义 Variable 实例上可用的属性。

以下属性特定于 VariableType 节点类：

| 属性                                                                                                                                   | 采用     | 数据类型       | 描述                                                                                                       |
| -------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------------- | ---------------------------------------------------------------------------------------------------------- |
| 包含[基本节点类的](https://documentation.unified-automation.com/uasdkhp/1.0.0/html/_l2_ua_node_classes.html#L3UaNodeClassBase)所有属性 |          |                |                                                                                                            |
| Value                                                                                                                                  | 可选的   | Base Data Type | 此可选属性定义此 VariableType 实例的默认值。值的数据类型由 DataType，ValueRank 和 ArrayDimensions 属性指定 |
| DataType                                                                                                                               | 强制性的 |                | 为这种类型的实例以及变量类型（如果提供）的值属性(Value Attribute)定义值属性的数据类型(DataType)            |
| ValueRank                                                                                                                              | 强制性的 | Int32          | 标识该值是否为数组，如果为数组，则允许指定数组的空间(dimensions)                                           |
| ArrayDimensions                                                                                                                        | 可选的   | UInt32 []      | 此可选属性允许指定数组的大小，并且仅在值是数组时才可以使用。对于数组的每个维度，相应的条目定义维度的长度   |
| IsAbstract                                                                                                                             | 强制性的 | Boolean        | 此属性指示 VariableType 是否为抽象，因此不能直接用作类型定义                                               |

## 数据类型

所有数据类型在地址空间中表示为 NodeClass 数据类型的节点。

以下属性特定于 DataType 节点类：

| 属性                                                                                                                                   | 采用     | 数据类型 | 描述                                                                                                   |
| -------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------- | ------------------------------------------------------------------------------------------------------ |
| 包含[基本节点类的](https://documentation.unified-automation.com/uasdkhp/1.0.0/html/_l2_ua_node_classes.html#L3UaNodeClassBase)所有属性 |          |          |                                                                                                        |
| IsAbstract                                                                                                                             | 强制性的 | 布尔型   | 指示 DataType 是否为抽象。可以在 DataType 属性中使用抽象的 DataType。但是，具体值必须是具体的 DataType |

## 视图

视图用于限制大地址空间中可见节点和引用的数量。通过使用 View，服务器可以组织其地址空间并提供针对特定任务或用例量身定制的视图。

以下属性特定于 View 节点类：

| 属性                                                                                                                                   | 采用     | 数据类型 | 描述                                                                                                 |
| -------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------- | ---------------------------------------------------------------------------------------------------- |
| 包含[基本节点类的](https://documentation.unified-automation.com/uasdkhp/1.0.0/html/_l2_ua_node_classes.html#L3UaNodeClassBase)所有属性 |          |          |                                                                                                      |
| ContainsNoLoop                                                                                                                         | 强制性的 | Boolean  | 此属性(Attributes)指示遵循层次结构引用时，视图中包含的节点是否确实跨越非循环层次结构                 |
| EventNotifier                                                                                                                          | 强制性的 | Byte     | 此属性(Attributes)表示一个位掩码，用于标识视图是否可用于订阅事件以及事件的历史记录是否可访问和可更改 |

下一章介绍[OPC UA NodeId 概念](./3.OPC UA 节点 ID 概念.md)。
